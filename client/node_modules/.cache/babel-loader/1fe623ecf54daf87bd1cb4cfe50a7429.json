{"ast":null,"code":"import { END_LOADING, START_LOADING, FETCH_BY_SEARCH, FETCH_ALL, FETCH_POST, CREATE, UPDATE, DELETE, LIKE, COMMENT } from \"../constants/actionTypes\";\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    isLoading: true,\n    posts: []\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case START_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case END_LOADING:\n      return { ...state,\n        isLoading: false\n      };\n\n    case FETCH_ALL:\n      return { ...state,\n        posts: action.payload.data,\n        currentPage: action.payload.currentPage,\n        numberOfPages: action.payload.numberOfPages\n      };\n\n    case FETCH_BY_SEARCH:\n      return { ...state,\n        posts: action.payload\n      };\n\n    case FETCH_POST:\n      return { ...state,\n        post: action.payload\n      };\n\n    case LIKE:\n      return { ...state,\n        posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)\n      };\n\n    case COMMENT:\n      return { ...state,\n        posts: state.posts.map(post => {\n          if (post._id === action.payload._id) {\n            return action.payload;\n          }\n\n          return post;\n        })\n      };\n\n    case CREATE:\n      return { ...state,\n        posts: [...state.posts, action.payload]\n      };\n\n    case UPDATE:\n      return { ...state,\n        posts: state.posts.map(post => post._id === action.payload._id ? action.payload : post)\n      };\n\n    case DELETE:\n      return { ...state,\n        posts: state.posts.filter(post => post._id !== action.payload)\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["END_LOADING","START_LOADING","FETCH_BY_SEARCH","FETCH_ALL","FETCH_POST","CREATE","UPDATE","DELETE","LIKE","COMMENT","state","isLoading","posts","action","type","payload","data","currentPage","numberOfPages","post","map","_id","filter"],"sources":["C:/Users/radoj/Desktop/social-app-master/social-app/client/src/reducers/posts.js"],"sourcesContent":["import {\n\tEND_LOADING,\n\tSTART_LOADING,\n\tFETCH_BY_SEARCH,\n\tFETCH_ALL,\n\tFETCH_POST,\n\tCREATE,\n\tUPDATE,\n\tDELETE,\n\tLIKE,\n\tCOMMENT,\n} from \"../constants/actionTypes\";\nexport default (state = { isLoading: true, posts: [] }, action) => {\n\tswitch (action.type) {\n\t\tcase START_LOADING:\n\t\t\treturn { ...state, isLoading: true };\n\t\tcase END_LOADING:\n\t\t\treturn { ...state, isLoading: false };\n\t\tcase FETCH_ALL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: action.payload.data,\n\t\t\t\tcurrentPage: action.payload.currentPage,\n\t\t\t\tnumberOfPages: action.payload.numberOfPages,\n\t\t\t};\n\t\tcase FETCH_BY_SEARCH:\n\t\t\treturn { ...state, posts: action.payload };\n\t\tcase FETCH_POST:\n\t\t\treturn { ...state, post: action.payload };\n\t\tcase LIKE:\n\t\t\treturn { ...state, posts: state.posts.map(post => (post._id === action.payload._id ? action.payload : post)) };\n\t\tcase COMMENT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.map(post => {\n\t\t\t\t\tif (post._id === action.payload._id) {\n\t\t\t\t\t\treturn action.payload;\n\t\t\t\t\t}\n\t\t\t\t\treturn post;\n\t\t\t\t}),\n\t\t\t};\n\t\tcase CREATE:\n\t\t\treturn { ...state, posts: [...state.posts, action.payload] };\n\t\tcase UPDATE:\n\t\t\treturn { ...state, posts: state.posts.map(post => (post._id === action.payload._id ? action.payload : post)) };\n\t\tcase DELETE:\n\t\t\treturn { ...state, posts: state.posts.filter(post => post._id !== action.payload) };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"],"mappings":"AAAA,SACCA,WADD,EAECC,aAFD,EAGCC,eAHD,EAICC,SAJD,EAKCC,UALD,EAMCC,MAND,EAOCC,MAPD,EAQCC,MARD,EASCC,IATD,EAUCC,OAVD,QAWO,0BAXP;AAYA,gBAAe,YAAoD;EAAA,IAAnDC,KAAmD,uEAA3C;IAAEC,SAAS,EAAE,IAAb;IAAmBC,KAAK,EAAE;EAA1B,CAA2C;EAAA,IAAXC,MAAW;;EAClE,QAAQA,MAAM,CAACC,IAAf;IACC,KAAKb,aAAL;MACC,OAAO,EAAE,GAAGS,KAAL;QAAYC,SAAS,EAAE;MAAvB,CAAP;;IACD,KAAKX,WAAL;MACC,OAAO,EAAE,GAAGU,KAAL;QAAYC,SAAS,EAAE;MAAvB,CAAP;;IACD,KAAKR,SAAL;MACC,OAAO,EACN,GAAGO,KADG;QAENE,KAAK,EAAEC,MAAM,CAACE,OAAP,CAAeC,IAFhB;QAGNC,WAAW,EAAEJ,MAAM,CAACE,OAAP,CAAeE,WAHtB;QAINC,aAAa,EAAEL,MAAM,CAACE,OAAP,CAAeG;MAJxB,CAAP;;IAMD,KAAKhB,eAAL;MACC,OAAO,EAAE,GAAGQ,KAAL;QAAYE,KAAK,EAAEC,MAAM,CAACE;MAA1B,CAAP;;IACD,KAAKX,UAAL;MACC,OAAO,EAAE,GAAGM,KAAL;QAAYS,IAAI,EAAEN,MAAM,CAACE;MAAzB,CAAP;;IACD,KAAKP,IAAL;MACC,OAAO,EAAE,GAAGE,KAAL;QAAYE,KAAK,EAAEF,KAAK,CAACE,KAAN,CAAYQ,GAAZ,CAAgBD,IAAI,IAAKA,IAAI,CAACE,GAAL,KAAaR,MAAM,CAACE,OAAP,CAAeM,GAA5B,GAAkCR,MAAM,CAACE,OAAzC,GAAmDI,IAA5E;MAAnB,CAAP;;IACD,KAAKV,OAAL;MACC,OAAO,EACN,GAAGC,KADG;QAENE,KAAK,EAAEF,KAAK,CAACE,KAAN,CAAYQ,GAAZ,CAAgBD,IAAI,IAAI;UAC9B,IAAIA,IAAI,CAACE,GAAL,KAAaR,MAAM,CAACE,OAAP,CAAeM,GAAhC,EAAqC;YACpC,OAAOR,MAAM,CAACE,OAAd;UACA;;UACD,OAAOI,IAAP;QACA,CALM;MAFD,CAAP;;IASD,KAAKd,MAAL;MACC,OAAO,EAAE,GAAGK,KAAL;QAAYE,KAAK,EAAE,CAAC,GAAGF,KAAK,CAACE,KAAV,EAAiBC,MAAM,CAACE,OAAxB;MAAnB,CAAP;;IACD,KAAKT,MAAL;MACC,OAAO,EAAE,GAAGI,KAAL;QAAYE,KAAK,EAAEF,KAAK,CAACE,KAAN,CAAYQ,GAAZ,CAAgBD,IAAI,IAAKA,IAAI,CAACE,GAAL,KAAaR,MAAM,CAACE,OAAP,CAAeM,GAA5B,GAAkCR,MAAM,CAACE,OAAzC,GAAmDI,IAA5E;MAAnB,CAAP;;IACD,KAAKZ,MAAL;MACC,OAAO,EAAE,GAAGG,KAAL;QAAYE,KAAK,EAAEF,KAAK,CAACE,KAAN,CAAYU,MAAZ,CAAmBH,IAAI,IAAIA,IAAI,CAACE,GAAL,KAAaR,MAAM,CAACE,OAA/C;MAAnB,CAAP;;IACD;MACC,OAAOL,KAAP;EAnCF;AAqCA,CAtCD"},"metadata":{},"sourceType":"module"}